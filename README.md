# CorporateMemory (Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠØ©)

**CorporateMemory** is an Enterprise B2B SaaS platform designed to function as an "Organizational Brain" for companies. It leverages Generative AI (Google Gemini 1.5 Pro) and RAG (Retrieval-Augmented Generation) to allow employees to chat with their company's internal documents (PDFs, Audio, Video) in a secure, multi-tenant environment with native Arabic (RTL) support.

## ðŸš€ Technology Stack

### Architecture
- **Pattern**: Monorepo
- **Multi-Tenancy**: Strict isolation (Organization -> Workspace) via Middleware & Row-Level Security logic.

### Backend (`/backend`)
- **Framework**: Python FastAPI (Async).
- **Database**: PostgreSQL 15.
- **ORM**: SQLAlchemy 2.0 (Async) + Alembic (Migrations).
- **AI Engine**: Google Gemini 1.5 Pro + Google File API (Managed RAG).
- **Key Libraries**: `google-genai`, `asyncpg`, `pydantic`.

### Frontend (`/frontend`)
- **Framework**: Next.js 15 (App Router).
- **Styling**: Tailwind CSS v4.
- **UI Library**: Shadcn UI (Radix Primitives).
- **Localization**: Native RTL support (`dir="rtl"`), Arabic fonts (Geist/Inter).

## ðŸ“‚ Project Structure

```bash
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/            # REST API Endpoints (Upload, Chat)
â”‚   â”‚   â”œâ”€â”€ core/           # Config, Database, Middleware
â”‚   â”‚   â”œâ”€â”€ models/         # SQLAlchemy Models (Tenant, Workspace, Document)
â”‚   â”‚   â”œâ”€â”€ services/       # Business Logic (GeminiService, RAGService)
â”‚   â”œâ”€â”€ alembic/            # Database Migrations
â”‚   â”œâ”€â”€ main.py             # Entry Point
â”‚   â””â”€â”€ requirements.txt    # Python Dependencies
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app/                # Next.js Pages (Dashboard, Chat, Database)
â”‚   â”œâ”€â”€ components/         # Reusable UI Components (Sidebar, Forms)
â”‚   â”œâ”€â”€ lib/                # API Clients & Utils
â”‚   â””â”€â”€ public/             # Static Assets
â””â”€â”€ docker-compose.yml      # Local Infrastructure (PostgreSQL)
```

## ðŸ›  Features

1.  **Strict Multi-Tenancy**:
    - Data is isolated per tenant using a `X-Tenant-ID` header.
    - Middleware ensures requests are routed to the correct context.

2.  **RAG Pipeline (Retrieval-Augmented Generation)**:
    - **Upload**: Supports PDF, MP3, MP4. Files are uploaded to Google Gemini's File API.
    - **Indexing**: Metadata is stored in Postgres, while vector embeddings are managed by Gemini.
    - **Chat**: Users query their workspace; the system retrieves relevant context and generates citations.

3.  **Arabic-First UI**:
    - Dashboard built from the ground up for Right-to-Left (RTL) layouts.
    - Professional Arabic terminology used throughout the interface.

## ðŸš¦ Getting Started

### Prerequisites
- **Docker Desktop** (for PostgreSQL).
- **Python 3.10+**.
- **Node.js 18+**.
- **Google AI Studio API Key**.

### 1. Database Setup
Start the local PostgreSQL container:
```bash
docker compose up -d
```

### 2. Backend Setup
Navigate to `/backend`:
1.  Create a `.env` file:
    ```bash
    POSTGRES_SERVER=localhost
    POSTGRES_USER=postgres
    POSTGRES_PASSWORD=password
    POSTGRES_DB=corporate_memory
    GOOGLE_API_KEY=your_google_api_key_here
    ```
2.  Install dependencies:
    ```bash
    pip install -r requirements.txt
    ```
3.  Run Migrations:
    ```bash
    alembic revision --autogenerate -m "Initial Schema"
    alembic upgrade head
    ```
4.  Start Server:
    ```bash
    uvicorn main:app --reload
    ```
    *API Docs available at: http://localhost:8000/docs*

### 3. Frontend Setup
Navigate to `/frontend`:
1.  Install dependencies:
    ```bash
    npm install
    ```
2.  Start Development Server:
    ```bash
    npm run dev
    ```
3.  Open http://localhost:3000

## ðŸ§ª Testing the RAG Pipeline
1.  Open the **Dashboard** -> **Database**.
2.  Upload a PDF file (e.g., an Employee Handbook).
3.  Wait for the success alert.
4.  Go to **Chat**.
5.  Ask a question about the document (e.g., "What is the vacation policy?").
6.  See the answer generated by Gemini 1.5 Pro.

---
*Developed for Specialist Review - 2025*
